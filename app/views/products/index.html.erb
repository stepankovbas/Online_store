<!DOCTYPE html>
<html>
  <% if notice %>
    <aside id="notice"><%= notice %></aside>
  <% end %>

  <h1>Products</h1>

  <head>
      <title>Online_Store</title>
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <%= csrf_meta_tags %>
      <%= csp_meta_tag %>

      <%= stylesheet_link_tag "products", "data-turbo-track": "reload" %>
      <%= javascript_importmap_tags %>
    </head>

  <table>
    <tfoot>
      <tr>
        <td colspan="3">
          <%= link_to 'New Product', new_product_path %>
        </td>
      </tr>
    </tfoot>

    <tbody>
      <% @products.each do |product| %>
        <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
          <td class="image">
            <%= image_tag(product.image_url, class: 'list_image') %>
          </td>

          <td class="description">
            <h1><%= product.title %></h1>
            <p>
              <%= truncate(strip_tags(product.description), length: 1000) %>
            </p>
          </td>

          <td class="actions">
            <ul>
              <li><%= link_to 'Show', product %></li>
              <li><%= link_to 'Edit', edit_product_path(product) %></li>
              <li>
                <%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %>
              </li>
            </ul>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</html>
